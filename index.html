<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>MusicBreakdown</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Noto+Sans|Advent+Pro:500'>
    <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link href="style.css" rel="stylesheet">
    <!-- main wavesurfer.js lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.2.3/wavesurfer.min.js"></script>
</head>

<!-- For IE <= 9 -->
<!--[if IE]>
<script type="text/javascript">
    window.location = "./error.html";
</script>
<![endif]-->

<!-- For IE > 9 -->
<script type="text/javascript">
    if (window.navigator.msPointerEnabled) {
        window.location = "./error.html";
    }
</script>

<!-- for safari users -->
<script>
    

</script>

<body>

<canvas id="pixie"></canvas>
<script src="js/fireflies.js" type="text/javascript"></script>

<div class="MB-master">
    <p class="MB-title-text">Welcome to MusicBreakdown</p>

    <div id="dropContainer" class="drop_zone rainbow-color-dragNdrop">
         <p class="MB-dragNdrop-text">drag &amp; drop audio file here</p>
    </div>
    <script src="js/loadfile.js" type="text/javascript"></script>
    <br>or&nbsp;
    <label for="input" class="custom-file-upload rainbow-color">
        <i class="fa fa-cloud-upload"></i> upload audio file
    </label>
    <input type="file" id="input" accept="audio/*"/><br>

    <p class="MB-text">File:&nbsp;</p><output id="list"><i>(no file selected)</i></output>
    <audio id="sound" controls></audio>
    <br><p class="MB-text" id="MB-tempo">Tempo:&nbsp;</p><span id="output"></span>

    <div id="waveform" class="rainbow-color"></div>
    <div class="container">
        <button class="rainbow-color-controllerBTN MB-controllerbtn" onclick="wavesurfer.playPause();changePlayPauseIcon()">
        <i id="playpauseicon" class="fas fa-play"></i>
        </button>

        <button class="rainbow-color-controllerBTN MB-controllerbtn" onclick="wavesurfer.skipForward(5)">
            <i class="fas fa-forward"></i>
        </button>
        <button class="rainbow-color-controllerBTN MB-controllerbtn" onclick="wavesurfer.skipBackward(5)">
            <i class="fas fa-backward"></i>
        </button>
        <div class="dropdown">
        <i class="fas fa-sliders-h dropbtn rainbow-color-controllerBTN MB-controllerbtn" onclick="settingsDropdown()"></i>
            <div id="dropdownClass" class="dropdown-content">
                <a href="#" onclick="wavesurfer.setPlaybackRate(0.5)">Speed: 0.5</a>
                <a href="#" onclick="wavesurfer.setPlaybackRate(1)">Speed: 1.0</a>
                <a href="#" onclick="wavesurfer.setPlaybackRate(1.5)">Speed: 1.5</a>
                <a href="#" onclick="wavesurfer.setPlaybackRate(2)">Speed: 2.0</a>
            </div>
        </div>
        <button style="display: inline-block" class="rainbow-color-controllerBTN MB-controllerbtn" onmouseover="showVolBox()" onmouseout="hideVolBox()">
            <i id="mutevolumeicon" class="fas fa-volume-up"></i>
        </button>
        <div class="volbox" onmouseover="showVolBox()" onmouseout="hideVolBox()">
            <input class="slider rainbow-color-controllerBTN" id="volume" type="range" min="0" max="1" value="1" step="0.1">
        </div>
        <button class="rainbow-color-controllerBTN MB-controllerbtn" onclick="wavesurfer.stop();wavesurfer.play()">
            <i class="fas fa-redo-alt"></i>
        </button>
    </div>
    <br>

    <footer>
    <hr style="width: 90%;" class="rainbow-color-HR">
        <p class="MB-footer-text">made by henry jack</p>
        &nbsp;//&nbsp;
        <p class="MB-footer-text">&copy; <a class="MB-footer-link rainbow-color-footerlink" href="https://scono.co">scono</a>, 2017-2018</p><br>
        <p class="MB-footer-text">musicbreakdown uses 
            <a class="MB-footer-link rainbow-color-footerlink" href="https://wavesurfer-js.org/">wavesurfer.js</a> &amp; 
            <a class="MB-footer-link rainbow-color-footerlink" href="https://github.com/JMPerez/beats-audio-api/">beats-audio-api</a>
        </p>
        <br>
        <p class="MB-footer-text">v1.2&nbsp;//&nbsp;<a class="MB-footer-link rainbow-color-footerlink" href="https://github.com/onLava/MusicBreakdown">musicbreakdown on github</a></p>
    </footer>

</div>

</body>
</html>

<script src="js/script.js" type="text/javascript"></script>